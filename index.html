<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruleta Ã‰pica de FÃºtbol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .spin-animation {
            animation: spin 0.5s linear infinite;
        }
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .bg-gradient-football {
            background: linear-gradient(135deg, #1e3a8a 0%, #0ea5e9 50%, #1e3a8a 100%);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen font-sans">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-3xl mx-auto">
            <!-- Header -->
            <header class="text-center mb-10">
                <h1 class="text-4xl md:text-5xl font-bold text-blue-900 mb-2">âš½ Ruleta Ã‰pica de FÃºtbol</h1>
                <p class="text-lg text-gray-600">Donde el destino decide los duelos mÃ¡s legendarios</p>
            </header>

            <!-- League Selection -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">Selecciona una liga</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <button onclick="selectLeague('Premier League')" class="league-btn bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg font-medium transition-all">
                        <i class="fas fa-trophy mr-2"></i> Premier
                    </button>
                    <button onclick="selectLeague('LaLiga')" class="league-btn bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-all">
                        <i class="fas fa-futbol mr-2"></i> LaLiga
                    </button>
                    <button onclick="selectLeague('Serie A')" class="league-btn bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-medium transition-all">
                        <i class="fas fa-flag mr-2"></i> Serie A
                    </button>
                    <button onclick="selectLeague('Bundesliga')" class="league-btn bg-yellow-600 hover:bg-yellow-700 text-white py-3 px-4 rounded-lg font-medium transition-all">
                        <i class="fas fa-star mr-2"></i> Bundesliga
                    </button>
                </div>
                <div class="mt-4">
                    <input type="text" id="customLeague" placeholder="O escribe tu propia liga" class="w-full p-3 border border-gray-300 rounded-lg">
                    <button onclick="selectCustomLeague()" class="mt-2 w-full bg-purple-600 hover:bg-purple-700 text-white py-3 px-4 rounded-lg font-medium transition-all">
                        <i class="fas fa-plus-circle mr-2"></i> Usar esta liga
                    </button>
                </div>
            </div>

            <!-- Selected League Display -->
            <div id="selectedLeagueContainer" class="hidden bg-gradient-football text-white rounded-xl shadow-lg p-6 mb-8 text-center">
                <h2 class="text-2xl font-bold mb-2">Liga seleccionada:</h2>
                <p id="selectedLeague" class="text-3xl font-extrabold"></p>
            </div>

            <!-- Roulette Section -->
            <div id="rouletteSection" class="hidden bg-white rounded-xl shadow-lg p-6 mb-8 text-center">
                <h2 class="text-2xl font-bold text-blue-800 mb-6">Â¡Haz girar la ruleta!</h2>
                <div class="flex justify-center mb-8">
                    <div id="roulette" class="w-64 h-64 bg-blue-100 rounded-full border-8 border-blue-300 flex items-center justify-center cursor-pointer hover:bg-blue-200 transition-all">
                        <div id="rouletteIcon" class="text-5xl text-blue-700">
                            <i class="fas fa-futbol"></i>
                        </div>
                    </div>
                </div>
                <button id="spinBtn" onclick="spinRoulette()" class="bg-blue-600 hover:bg-blue-700 text-white py-3 px-8 rounded-lg font-bold text-lg transition-all">
                    <i class="fas fa-play mr-2"></i> Girar Ruleta
                </button>
            </div>

            <!-- Match Preview -->
            <div id="matchPreview" class="hidden bg-gradient-football text-white rounded-xl shadow-lg p-6 mb-8 fade-in">
                <div class="text-center mb-6">
                    <p id="matchAnnouncement" class="text-xl font-bold mb-2">âš½ Â¡La ruleta girÃ³... y el destino hablÃ³!</p>
                    <div id="leagueTeams" class="text-2xl font-extrabold mb-4"></div>
                </div>
                
                <div id="matchContext" class="bg-white bg-opacity-10 p-4 rounded-lg mb-4">
                    <p id="matchNarration" class="text-lg italic"></p>
                </div>
                
                <div id="matchChallenge" class="bg-yellow-500 bg-opacity-20 p-4 rounded-lg mb-4">
                    <p class="font-bold text-lg">ðŸ”¥ RETO:</p>
                    <p id="challengeText"></p>
                </div>
                
                <div id="matchClosing" class="text-right">
                    <p id="closingText" class="text-lg font-bold italic"></p>
                </div>
            </div>

            <!-- Share Button -->
            <div id="shareSection" class="hidden text-center">
                <button onclick="shareMatch()" class="bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg font-medium transition-all">
                    <i class="fas fa-share-alt mr-2"></i> Compartir este duelo
                </button>
            </div>
        </div>
    </div>

    <script>
        let selectedLeague = '';
        const leaguesTeams = {
            'Premier League': ['Arsenal', 'Chelsea', 'Manchester United', 'Manchester City', 'Liverpool', 'Tottenham', 'Newcastle', 'Aston Villa', 'West Ham', 'Everton'],
            'LaLiga': ['Real Madrid', 'Barcelona', 'AtlÃ©tico de Madrid', 'Sevilla', 'Valencia', 'Villarreal', 'Real Sociedad', 'Athletic Bilbao', 'Betis', 'Celta'],
            'Serie A': ['Juventus', 'AC Milan', 'Inter', 'Roma', 'Napoli', 'Lazio', 'Atalanta', 'Fiorentina', 'Torino', 'Bologna'],
            'Bundesliga': ['Bayern Munich', 'Borussia Dortmund', 'RB Leipzig', 'Bayer Leverkusen', 'Wolfsburg', 'Eintracht Frankfurt', 'Borussia MÃ¶nchengladbach', 'Hoffenheim', 'Stuttgart', 'Werder Bremen']
        };

        const challenges = [
            "Solo valen goles con zurda. El que pierde tiene que narrar el prÃ³ximo partido con voz de relator argentino.",
            "Prohibido marcar antes del minuto 30. Si lo haces, deberÃ¡s donar 10â‚¬ a una fundaciÃ³n del rival.",
            "Goles de cabeza valen doble. El perdedor deberÃ¡ cambiar su foto de perfil por el escudo del rival por una semana.",
            "El arquero debe hacer al menos 3 asistencias. Si no lo logra, deberÃ¡ publicar un video cantando el himno del equipo contrario.",
            "Prohibido hacer cambios. El DT que incumpla deberÃ¡ twittear 'El otro equipo es mejor que el mÃ­o' con banderas del rival.",
            "Solo se puede marcar desde fuera del Ã¡rea. El que pierde debe subir una foto de niÃ±o con la camiseta del rival.",
            "El primer tiro al arco decide todo. Si no es gol, el equipo debe jugar el resto del partido con un hombre menos."
        ];

        const contexts = {
            'Premier League': [
                "Un clÃ¡sico que huele a pÃ³lvora y cerveza tibia. TradiciÃ³n contra modernidad, Brexit contra fÃºtbol champagne. Hoy no hay medias tintas.",
                "El norte industrial contra el sur aristocrÃ¡tico. Estos equipos llevan dÃ©cadas escribiendo una rivalidad que hoy llega a su capÃ­tulo mÃ¡s candente.",
                "MÃ¡s que un partido, es una batalla cultural. Un estilo contra otro, una filosofÃ­a contra su antÃ­tesis. El estadio estÃ¡ que hierve."
            ],
            'LaLiga': [
                "Un duelo con sabor a paella y jamÃ³n ibÃ©rico. La pasiÃ³n mediterrÃ¡nea contra la garra castellana. Hoy se juegan mÃ¡s que tres puntos.",
                "El orgullo de una regiÃ³n contra el poderÃ­o de la capital. Estos equipos llevan aÃ±os midiÃ©ndose en duelos que quedan para la historia.",
                "FÃºtbol de toque contra contraataque letal. Dos formas de entender el juego que chocan en un partido que promete fuego."
            ],
            'Serie A': [
                "Un derbi con aroma a espresso y pasta al dente. La elegancia contra la determinaciÃ³n, la tÃ¡ctica italiana en su mÃ¡xima expresiÃ³n.",
                "Norte contra sur, industria contra tradiciÃ³n. Estos equipos representan mÃ¡s que ciudades, son formas de vida que hoy se enfrentan.",
                "Un duelo tÃ¡ctico que promete ser una obra de arte. El catenaccio contra el fÃºtbol alegre, el resultado es impredecible."
            ],
            'Bundesliga': [
                "Un partido que huele a cerveza y bratwurst. La eficiencia alemana contra el fÃºtbol total, dos filosofÃ­as que hoy chocan.",
                "El poderÃ­o bÃ¡varo contra la resistencia renana. Estos equipos escriben otro capÃ­tulo de una rivalidad llena de goles y emociones.",
                "FÃºtbol de alta presiÃ³n contra contraataques elÃ©ctricos. El estadio estÃ¡ al rojo vivo y los aficionados no dan abasto con la emociÃ³n."
            ]
        };

        const closings = [
            "Que ruede el balÃ³n... porque hoy, solo uno saldrÃ¡ con el joystick en alto.",
            "Los dioses del fÃºtbol estÃ¡n mirando... Â¿quiÃ©n se ganarÃ¡ su favor esta noche?",
            "El estadio es un polvorÃ­n... que empiece el espectÃ¡culo.",
            "Silbato inicial, corazÃ³n a mil... que comience la batalla.",
            "MÃ¡s que un partido, una leyenda en construcciÃ³n. Â¡A jugar!"
        ];

        function selectLeague(league) {
            selectedLeague = league;
            document.getElementById('selectedLeague').textContent = league;
            document.getElementById('selectedLeagueContainer').classList.remove('hidden');
            document.getElementById('rouletteSection').classList.remove('hidden');
            document.getElementById('matchPreview').classList.add('hidden');
            document.getElementById('shareSection').classList.add('hidden');
            
            // Scroll to roulette section
            document.getElementById('rouletteSection').scrollIntoView({ behavior: 'smooth' });
        }

        function selectCustomLeague() {
            const customLeague = document.getElementById('customLeague').value.trim();
            if (customLeague) {
                selectedLeague = customLeague;
                document.getElementById('selectedLeague').textContent = customLeague;
                document.getElementById('selectedLeagueContainer').classList.remove('hidden');
                document.getElementById('rouletteSection').classList.remove('hidden');
                document.getElementById('matchPreview').classList.add('hidden');
                document.getElementById('shareSection').classList.add('hidden');
                
                // Add custom league to leaguesTeams with some generic teams
                if (!leaguesTeams[customLeague]) {
                    leaguesTeams[customLeague] = ['Equipo A', 'Equipo B', 'Equipo C', 'Equipo D', 'Equipo E', 'Equipo F'];
                }
                
                // Scroll to roulette section
                document.getElementById('rouletteSection').scrollIntoView({ behavior: 'smooth' });
            } else {
                alert('Por favor escribe el nombre de una liga');
            }
        }

        function spinRoulette() {
            const roulette = document.getElementById('rouletteIcon');
            const spinBtn = document.getElementById('spinBtn');
            
            // Disable button during spin
            spinBtn.disabled = true;
            spinBtn.classList.add('opacity-50');
            roulette.classList.add('spin-animation');
            
            // Hide previous match preview if exists
            document.getElementById('matchPreview').classList.add('hidden');
            
            // Simulate spinning for 2 seconds
            setTimeout(() => {
                roulette.classList.remove('spin-animation');
                generateMatch();
                spinBtn.disabled = false;
                spinBtn.classList.remove('opacity-50');
            }, 2000);
        }

        function generateMatch() {
            if (!selectedLeague) return;
            
            // Get random teams (make sure they're different)
            const teams = leaguesTeams[selectedLeague] || ['Equipo 1', 'Equipo 2', 'Equipo 3', 'Equipo 4'];
            let team1 = teams[Math.floor(Math.random() * teams.length)];
            let team2 = teams[Math.floor(Math.random() * teams.length)];
            
            while (team2 === team1) {
                team2 = teams[Math.floor(Math.random() * teams.length)];
            }
            
            // Set teams display
            document.getElementById('leagueTeams').innerHTML = `
                <span class="text-blue-200">${selectedLeague}</span> â€“ 
                <span class="text-yellow-300">${team1}</span> ðŸ†š 
                <span class="text-red-300">${team2}</span>
            `;
            
            // Get random context based on league or use generic one
            let context = "";
            if (contexts[selectedLeague]) {
                context = contexts[selectedLeague][Math.floor(Math.random() * contexts[selectedLeague].length)];
            } else {
                context = "Un duelo que promete quedarse en la memoria. Dos estilos que chocan, dos filosofÃ­as que se enfrentan. El estadio estÃ¡ que hierve y los aficionados no dan abasto con la emociÃ³n.";
            }
            
            // Replace team placeholders in context if they exist
            context = context.replace("estos equipos", `${team1} y ${team2}`);
            
            document.getElementById('matchNarration').textContent = context;
            
            // Get random challenge
            const challenge = challenges[Math.floor(Math.random() * challenges.length)];
            document.getElementById('challengeText').textContent = challenge;
            
            // Get random closing
            const closing = closings[Math.floor(Math.random() * closings.length)];
            document.getElementById('closingText').textContent = closing;
            
            // Show match preview and share button
            document.getElementById('matchPreview').classList.remove('hidden');
            document.getElementById('shareSection').classList.remove('hidden');
            
            // Scroll to match preview
            setTimeout(() => {
                document.getElementById('matchPreview').scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        function shareMatch() {
            if (!navigator.share) {
                alert('Tu navegador no soporta la API de compartir. Copia manualmente el texto.');
                return;
            }
            
            const leagueTeams = document.getElementById('leagueTeams').textContent;
            const matchNarration = document.getElementById('matchNarration').textContent;
            const challengeText = document.getElementById('challengeText').textContent;
            const closingText = document.getElementById('closingText').textContent;
            
            const shareText = `âš½ Â¡La ruleta girÃ³... y el destino hablÃ³!\n\n${leagueTeams}\n\n${matchNarration}\n\nðŸ”¥ RETO: ${challengeText}\n\n${closingText}\n\nGenerado con Ruleta Ã‰pica de FÃºtbol`;
            
            navigator.share({
                title: 'Duelo Ã‰pico de FÃºtbol',
                text: shareText,
                url: window.location.href
            }).catch(err => {
                console.log('Error al compartir:', err);
            });
        }

        // Add click effect to league buttons
        document.querySelectorAll('.league-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.classList.add('transform', 'scale-95');
                setTimeout(() => {
                    this.classList.remove('transform', 'scale-95');
                }, 150);
            });
        });
    </script>
</body>
</html>